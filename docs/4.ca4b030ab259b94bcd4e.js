(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{qvFY:function(t,e,o){"use strict";o.r(e),o.d(e,"ProductModule",function(){return Tt});var s=o("ofXK"),i=o("tyNb"),a=o("kt0X");const c=t=>t.coreState,n=Object(a.i)(c,t=>t.attributeGroupsData),r=Object(a.i)(c,t=>t.isAttributeGroupsReset),l=Object(a.i)(c,t=>t.attributeListData),d=Object(a.i)(c,t=>t.isAttributeListReset),b=Object(a.i)(c,t=>t.attributesData),u=Object(a.i)(c,t=>t.isAttributesReset),p=Object(a.i)(c,t=>t.productTypeData),m=Object(a.i)(c,t=>t.isproductTypeReset),h=Object(a.i)(c,t=>t.processList),f=Object(a.i)(c,t=>t.isProcessListReset),g=Object(a.i)(c,t=>t.conversionCostData),v=Object(a.i)(c,t=>t.isConversionCostReset),T=Object(a.i)(c,t=>t.tableData);var C=o("1G5W"),O=o("pLZG"),U=o("0IaG"),w=o("fXoL"),P=o("kmnG"),D=o("d3UM"),y=o("bTqV"),j=o("FKr1");function x(t,e){if(1&t&&(w.Ub(0,"mat-option",7),w.uc(1),w.Tb()),2&t){const t=e.$implicit;w.jc("value",t),w.Db(1),w.wc(" ",null==t?null:t.description," ")}}let A=(()=>{class t{constructor(t,e){this.dialogRef=t,this.data=e}selectProductType(t){this.selectedValue=null==t?void 0:t.value}cancel(){this.dialogRef.close()}save(){this.dialogRef.close(this.selectedValue)}}return t.\u0275fac=function(e){return new(e||t)(w.Ob(U.f),w.Ob(U.a))},t.\u0275cmp=w.Ib({type:t,selectors:[["add-new-attributes"]],decls:13,vars:2,consts:[[1,"dialog-container"],["mat-dialog-title","",1,"dialog-title"],[3,"selectionChange"],[3,"value",4,"ngFor","ngForOf"],["mat-dialog-actions","",1,"justify-content-center"],["mat-raised-button","","color","primary",3,"mat-dialog-close","click"],["mat-raised-button","","color","warn","tabindex","-1",3,"click"],[3,"value"]],template:function(t,e){1&t&&(w.Ub(0,"div",0),w.Ub(1,"h3",1),w.uc(2,"Add attributes"),w.Tb(),w.Ub(3,"mat-form-field"),w.Ub(4,"mat-label"),w.uc(5,"Attributes"),w.Tb(),w.Ub(6,"mat-select",2),w.cc("selectionChange",function(t){return e.selectProductType(t)}),w.tc(7,x,2,2,"mat-option",3),w.Tb(),w.Tb(),w.Ub(8,"div",4),w.Ub(9,"button",5),w.cc("click",function(){return e.save()}),w.uc(10,"Save"),w.Tb(),w.Ub(11,"button",6),w.cc("click",function(){return e.cancel()}),w.uc(12,"Cancel"),w.Tb(),w.Tb(),w.Tb()),2&t&&(w.Db(7),w.jc("ngForOf",e.data),w.Db(2),w.jc("mat-dialog-close",1))},directives:[U.g,P.b,P.e,D.a,s.i,U.c,y.a,U.d,j.e],styles:[".attribute-values[_ngcontent-%COMP%]{height:300px}"]}),t})();var _=o("XNiG");const N=[{name:"PRODUCT NAME",prop:"productName",isFooter:!0},{name:"USD/MT PRICE",prop:"usd",isFooter:!1},{name:"DENSITY",prop:"density",isFooter:!1},{name:"% USED (WEIGHT)",prop:"used",isFooter:!1},{name:"WASTE %",prop:"waste",isFooter:!1},{name:"AVERAGE DENSITY",prop:"avgDensity",isFooter:!0},{name:"COST ADDON",prop:"costAddOn",isFooter:!0},{name:"",prop:"action",type:"menu",isFooter:!0}];var k=o("3Pt+"),M=o("zpSk"),F=o("qFsG"),I=o("+0xr");const R=[{id:1,description:"Labor",amount:0,configurable:!0},{id:2,description:"Electric",amount:0},{id:3,description:"CookCharges",amount:0}];var S=o("Legl");let L=(()=>{class t{constructor(t,e,o){this.dialogRef=t,this.data=e,this._fb=o}ngOnInit(){this.addCost=this._fb.group({costName:[""],price:[""]})}cancel(){this.dialogRef.close()}save(){const t={description:this.addCost.value.costName,amount:parseFloat(this.addCost.value.price)};this.dialogRef.close(t)}}return t.\u0275fac=function(e){return new(e||t)(w.Ob(U.f),w.Ob(U.a),w.Ob(k.c))},t.\u0275cmp=w.Ib({type:t,selectors:[["add-cost"]],decls:19,vars:2,consts:[[1,"dialog-container"],["mat-dialog-title","",1,"dialog-title"],[1,"mat-dialog-content",3,"formGroup"],[1,"form"],["type","text","matInput","","name","costName","formControlName","costName"],["type","text","matInput","","name","price","formControlName","price"],["mat-dialog-actions","",1,"justify-content-center"],["mat-raised-button","","color","primary",3,"mat-dialog-close","click"],["mat-raised-button","","color","warn","tabindex","-1",3,"click"]],template:function(t,e){1&t&&(w.Ub(0,"div",0),w.Ub(1,"h3",1),w.uc(2,"Add new conversion cost"),w.Tb(),w.Ub(3,"form",2),w.Ub(4,"div",3),w.Ub(5,"mat-form-field"),w.Ub(6,"mat-label"),w.uc(7,"Cost Name"),w.Tb(),w.Pb(8,"input",4),w.Tb(),w.Tb(),w.Ub(9,"div",3),w.Ub(10,"mat-form-field"),w.Ub(11,"mat-label"),w.uc(12,"Price"),w.Tb(),w.Pb(13,"input",5),w.Tb(),w.Tb(),w.Ub(14,"div",6),w.Ub(15,"button",7),w.cc("click",function(){return e.save()}),w.uc(16,"Save"),w.Tb(),w.Ub(17,"button",8),w.cc("click",function(){return e.cancel()}),w.uc(18,"Cancel"),w.Tb(),w.Tb(),w.Tb(),w.Tb()),2&t&&(w.Db(3),w.jc("formGroup",e.addCost),w.Db(12),w.jc("mat-dialog-close",1))},directives:[U.g,k.p,k.l,k.f,P.b,P.e,F.a,k.b,k.k,k.e,U.c,y.a,U.d],styles:[""]}),t})();function G(t,e){if(1&t&&(w.Ub(0,"mat-option",16),w.uc(1),w.Tb()),2&t){const t=e.$implicit;w.jc("value",null==t?null:t.id),w.Db(1),w.wc(" ",null==t?null:t.description," ")}}let V=(()=>{class t{constructor(t,e,o){this.dialogRef=t,this.data=e,this._fb=o,this.productNames=[{id:1,description:"Rice",usd:"50$",density:.23},{id:2,description:"Salt",usd:"70$",density:.78}]}ngOnInit(){this.addProduct=this._fb.group({productName:[""],usd:[{value:"",disabled:!0}],density:[{value:"",disabled:!0}],used:[""],waste:[""],avgDensity:[{value:"",disabled:!0}],costAddOn:[{value:"",disabled:!0}]}),"add"!==this.data?(this.title="Edit Product",this.addProduct.controls.productName.setValue(this.data.productName),this.addProduct.controls.usd.setValue(this.data.usd),this.addProduct.controls.density.setValue(this.data.density),this.addProduct.controls.used.setValue(this.data.used),this.addProduct.controls.waste.setValue(this.data.waste),this.addProduct.controls.avgDensity.setValue(this.data.avgDensity),this.addProduct.controls.costAddOn.setValue(this.data.costAddOn)):this.title="Add New Product"}selectProduct(t){const e=this.productNames.find(e=>e.id===t.value);this.addProduct.controls.usd.setValue(e.usd),this.addProduct.controls.density.setValue(e.density)}calculateAvgCost(){const t=parseFloat(this.addProduct.controls.used.value),e=parseFloat(this.addProduct.controls.waste.value),o=this.addProduct.controls.usd.value?parseFloat(this.addProduct.controls.usd.value):0,s=t||0,i=e||0,a=o*((s+i)/100);this.addProduct.controls.avgDensity.setValue(Math.abs(o*((s-i)/100))),this.addProduct.controls.costAddOn.setValue(Math.abs(a))}cancel(){this.dialogRef.close()}save(){this.dialogRef.close({productName:this.addProduct.controls.productName.value,usd:this.addProduct.controls.usd.value,density:this.addProduct.controls.density.value,used:this.addProduct.controls.used.value,waste:this.addProduct.controls.waste.value,avgDensity:this.addProduct.controls.avgDensity.value,costAddOn:this.addProduct.controls.costAddOn.value})}}return t.\u0275fac=function(e){return new(e||t)(w.Ob(U.f),w.Ob(U.a),w.Ob(k.c))},t.\u0275cmp=w.Ib({type:t,selectors:[["add-new-product"]],decls:46,vars:4,consts:[[1,"dialog-container"],["mat-dialog-title","",1,"dialog-title"],[1,"mat-dialog-content",3,"formGroup"],["gdColumns","50% 50%","gdRow",""],[1,"form"],["formControlName","productName",3,"selectionChange"],[3,"value",4,"ngFor","ngForOf"],["type","text","matInput","","name","usd","formControlName","usd"],["type","text","matInput","","name","density","formControlName","density"],["type","text","matInput","","name","used","formControlName","used",3,"blur"],["type","text","matInput","","name","waste","formControlName","waste",3,"blur"],["type","text","matInput","","name","avgDensity","formControlName","avgDensity"],["type","text","matInput","","name","costAddOn","formControlName","costAddOn"],["mat-dialog-actions","",1,"justify-content-center"],["mat-raised-button","","color","primary",3,"mat-dialog-close","click"],["mat-raised-button","","color","warn","tabindex","-1",3,"click"],[3,"value"]],template:function(t,e){1&t&&(w.Ub(0,"div",0),w.Ub(1,"h3",1),w.uc(2),w.Tb(),w.Ub(3,"form",2),w.Ub(4,"div",3),w.Ub(5,"div",4),w.Ub(6,"mat-form-field"),w.Ub(7,"mat-label"),w.uc(8,"Product Name"),w.Tb(),w.Ub(9,"mat-select",5),w.cc("selectionChange",function(t){return e.selectProduct(t)}),w.tc(10,G,2,2,"mat-option",6),w.Tb(),w.Tb(),w.Tb(),w.Ub(11,"div",4),w.Ub(12,"mat-form-field"),w.Ub(13,"mat-label"),w.uc(14,"USD/MT Price"),w.Tb(),w.Pb(15,"input",7),w.Tb(),w.Tb(),w.Ub(16,"div",4),w.Ub(17,"mat-form-field"),w.Ub(18,"mat-label"),w.uc(19,"Density"),w.Tb(),w.Pb(20,"input",8),w.Tb(),w.Tb(),w.Ub(21,"div",4),w.Ub(22,"mat-form-field"),w.Ub(23,"mat-label"),w.uc(24,"% Used"),w.Tb(),w.Ub(25,"input",9),w.cc("blur",function(){return e.calculateAvgCost()}),w.Tb(),w.Tb(),w.Tb(),w.Ub(26,"div",4),w.Ub(27,"mat-form-field"),w.Ub(28,"mat-label"),w.uc(29,"Waste"),w.Tb(),w.Ub(30,"input",10),w.cc("blur",function(){return e.calculateAvgCost()}),w.Tb(),w.Tb(),w.Tb(),w.Ub(31,"div",4),w.Ub(32,"mat-form-field"),w.Ub(33,"mat-label"),w.uc(34,"Average Density"),w.Tb(),w.Pb(35,"input",11),w.Tb(),w.Tb(),w.Ub(36,"div",4),w.Ub(37,"mat-form-field"),w.Ub(38,"mat-label"),w.uc(39,"Cost Addon"),w.Tb(),w.Pb(40,"input",12),w.Tb(),w.Tb(),w.Tb(),w.Ub(41,"div",13),w.Ub(42,"button",14),w.cc("click",function(){return e.save()}),w.uc(43,"Save"),w.Tb(),w.Ub(44,"button",15),w.cc("click",function(){return e.cancel()}),w.uc(45,"Cancel"),w.Tb(),w.Tb(),w.Tb(),w.Tb()),2&t&&(w.Db(2),w.vc(e.title),w.Db(1),w.jc("formGroup",e.addProduct),w.Db(7),w.jc("ngForOf",e.productNames),w.Db(32),w.jc("mat-dialog-close",1))},directives:[U.g,k.p,k.l,k.f,M.b,M.d,P.b,P.e,D.a,k.k,k.e,s.i,F.a,k.b,U.c,y.a,U.d,j.e],styles:[""]}),t})(),$=(()=>{class t{constructor(t,e){this.dialogRef=t,this.data=e}cancel(){this.dialogRef.close()}}return t.\u0275fac=function(e){return new(e||t)(w.Ob(U.f),w.Ob(U.a))},t.\u0275cmp=w.Ib({type:t,selectors:[["delete-dialog"]],decls:8,vars:1,consts:[[1,"dialog-container"],["mat-dialog-title",""],["mat-dialog-actions","",1,"justify-content-center"],["mat-raised-button","","color","warn",1,"delete-btn",3,"mat-dialog-close"],["mat-raised-button","","tabindex","-1",3,"click"]],template:function(t,e){1&t&&(w.Ub(0,"div",0),w.Ub(1,"h3",1),w.uc(2,"Are you sure want to delete?"),w.Tb(),w.Ub(3,"div",2),w.Ub(4,"button",3),w.uc(5,"Delete"),w.Tb(),w.Ub(6,"button",4),w.cc("click",function(){return e.cancel()}),w.uc(7,"Cancel"),w.Tb(),w.Tb(),w.Tb()),2&t&&(w.Db(4),w.jc("mat-dialog-close",1))},directives:[U.g,U.c,y.a,U.d],styles:[".delete-btn[_ngcontent-%COMP%]{color:#fff}"]}),t})();var E=o("NFeN");function Y(t,e){if(1&t&&(w.Ub(0,"mat-option",24),w.uc(1),w.Tb()),2&t){const t=e.$implicit;w.jc("value",null==t?null:t.id),w.Db(1),w.wc(" ",null==t?null:t.description," ")}}function q(t,e){if(1&t&&(w.Ub(0,"mat-header-cell",29),w.uc(1),w.Tb()),2&t){const t=w.gc().index,e=w.gc();w.Db(1),w.wc(" ",e.headers[t].name," ")}}function z(t,e){if(1&t){const t=w.Vb();w.Sb(0),w.Ub(1,"div",31),w.Ub(2,"mat-icon",32),w.cc("click",function(){w.nc(t);const e=w.gc(),o=e.index,s=e.$implicit;return w.gc(2).editRecord(o,s)}),w.uc(3,"edit"),w.Tb(),w.Tb(),w.Ub(4,"div",33),w.Ub(5,"mat-icon",34),w.cc("click",function(){w.nc(t);const e=w.gc(),o=e.index,s=e.$implicit;return w.gc(2).deleteRecord(o,s)}),w.uc(6,"delete"),w.Tb(),w.Tb(),w.Rb()}}function K(t,e){if(1&t&&(w.Sb(0),w.Ub(1,"div",35),w.uc(2),w.Tb(),w.Rb()),2&t){const t=w.gc().$implicit,e=w.gc().$implicit;w.Db(1),w.Eb("data-label",e.name),w.Db(1),w.wc(" ",t[e.prop]?t[e.prop]:"-"," ")}}function H(t,e){if(1&t&&(w.Ub(0,"mat-cell"),w.tc(1,z,7,0,"ng-container",30),w.tc(2,K,3,2,"ng-container",30),w.Tb()),2&t){const t=w.gc().$implicit;w.Db(1),w.jc("ngIf","menu"===t.type),w.Db(1),w.jc("ngIf",!t.type)}}function W(t,e){if(1&t&&(w.Ub(0,"mat-footer-cell"),w.uc(1),w.Tb()),2&t){const t=w.gc().$implicit,e=w.gc();w.Db(1),w.vc(t.isFooter?e.getTotalValue(t):"")}}function X(t,e){1&t&&(w.Sb(0,25),w.tc(1,q,2,1,"mat-header-cell",26),w.tc(2,H,3,2,"mat-cell",27),w.tc(3,W,2,1,"mat-footer-cell",28),w.Rb()),2&t&&w.jc("matColumnDef",e.$implicit.prop)}function J(t,e){1&t&&w.Pb(0,"mat-header-row")}function Z(t,e){1&t&&w.Pb(0,"mat-row")}function B(t,e){if(1&t&&w.Pb(0,"mat-footer-row",36),2&t){const t=w.gc();w.qc("display",t.showFooter?"":"none")}}function Q(t,e){1&t&&(w.Ub(0,"div",37),w.Ub(1,"mat-icon",38),w.uc(2,"folder_open"),w.Tb(),w.Ub(3,"span",39),w.uc(4," No records found "),w.Tb(),w.Tb())}function tt(t,e){if(1&t){const t=w.Vb();w.Ub(0,"div",40),w.Ub(1,"div"),w.uc(2),w.Tb(),w.Ub(3,"input",41),w.cc("blur",function(o){w.nc(t);const s=e.index;return w.gc().updateTotalCost(s,o)}),w.Tb(),w.Ub(4,"mat-icon",42),w.cc("click",function(){w.nc(t);const o=e.index;return w.gc().deleteCost(o)}),w.uc(5,"delete"),w.Tb(),w.Tb()}if(2&t){const t=e.$implicit;w.Db(2),w.vc(t.description),w.Db(1),w.jc("value",t.amount)}}let et=(()=>{class t{constructor(t,e){this._dialog=t,this._store=e,this.dataSource=new I.o,this.isCreateNewProcess=!1,this.conversionCost=R,this.showFooter=!1,this.totalCost=new k.d(""),this.totalCostAmount=0,this.processNumber=1,this.headerTotalCost=0,this.costAddOnValue=0,this.tableData=[],this.unSubscribeAll=new _.a}ngOnInit(){this.isCreateNewProcess=!0,this.displayedColumns||(this.displayedColumns=this.headers.map(t=>t.prop)),this._store.select(T).pipe(Object(C.a)(this.unSubscribeAll.asObservable()),Object(O.a)(t=>!!t)).subscribe(t=>{var e;this.tableApiData=null===(e=null==t?void 0:t.results[0])||void 0===e?void 0:e.productAttributeValues,this.tableData=[...this.tableApiData],this.isCreateNewProcess=!1,this.showFooter=!0,this.loadTable()})}loadTable(){this.dataSource=new I.o(this.tableData),this.getHeaderTotalCost()}editRecord(t,e){this._dialog.open(V,{data:e,width:"500px",height:"400px"}).afterClosed().subscribe(e=>{e&&(this.tableData[t]=e,this.loadTable())})}deleteRecord(t,e){this._dialog.open($,{data:e}).afterClosed().subscribe(e=>{var o;1===e&&(null===(o=this.tableData)||void 0===o||o.splice(t,1),this.showFooter=!!this.tableData.length,this.loadTable())})}selectProcess(t){"new"===(null==t?void 0:t.value)?(this.isCreateNewProcess=!0,this.processNumber=this.processList.length?this.processList.length+1:1,this.headerTotalCost=0,this.tableData=[],this.showFooter=!1,this.loadTable()):(this.processName="",this.productName="",this._store.dispatch(S.a.loadTableData()))}getTotalValue(t){var e,o;let s;switch(t.prop){case"productName":s="TOTAL";break;case"avgDensity":s=null===(e=this.tableData)||void 0===e?void 0:e.map(t=>t.avgDensity).reduce((t,e)=>t+e,0);break;case"costAddOn":s=null===(o=this.tableData)||void 0===o?void 0:o.map(t=>t.costAddOn).reduce((t,e)=>t+e,0);break;default:s=""}return this.costAddOnValue=s,s}deleteCost(t){this._dialog.open($).afterClosed().subscribe(e=>{1===e&&(this.conversionCost.splice(t,1),this.getTotalCost())})}getTotalCost(){var t;this.totalCostAmount=null===(t=this.conversionCost)||void 0===t?void 0:t.map(t=>t.amount).reduce((t,e)=>t+e,0),this.getHeaderTotalCost()}getHeaderTotalCost(){var t;const e=null===(t=this.tableData)||void 0===t?void 0:t.map(t=>t.costAddOn).reduce((t,e)=>t+e,0);this.headerTotalCost=(e||0)+this.totalCostAmount}updateTotalCost(t,e){this.conversionCost[t].amount=parseFloat(e.target.value),this.getTotalCost()}addNewCost(){this._dialog.open(L).afterClosed().subscribe(t=>{t&&(t.id=this.conversionCost.length+1,this.conversionCost.push(t),this.totalCost.setValue(t.amount),this.getTotalCost())})}addNewProduct(){this._dialog.open(V,{data:"add",width:"500px",height:"400px"}).afterClosed().subscribe(t=>{t&&(this.tableData.push(t),console.log("this.displayedColumns",this.displayedColumns),this.loadTable(),this.showFooter=!0)})}ngOnDestroy(){this.unSubscribeAll.next(),this.unSubscribeAll.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(w.Ob(U.b),w.Ob(a.b))},t.\u0275cmp=w.Ib({type:t,selectors:[["process-table"]],inputs:{processList:"processList",headers:"headers"},decls:48,vars:13,consts:[["gdColumns","20%","gdAlignRows","end",1,"process-selection"],[3,"selectionChange"],["value","new"],[3,"value",4,"ngFor","ngForOf"],[1,"process-table"],["gdColumns","12% 20% 16% 29% 16%",1,"table-header","align-items-center"],[1,"form-group","d-flex","input-gap","align-items-center"],["type","text","matInput","","name","name",3,"ngModel","ngModelChange"],["type","text","matInput","","name","productname",3,"ngModel","ngModelChange"],[1,"add-new-product",3,"click"],[1,"mx-ac-datatable-container"],[3,"dataSource"],[3,"matColumnDef",4,"ngFor","ngForOf"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],["class","table-footer",3,"display",4,"matFooterRowDef"],["class","mx-no-data-found",4,"ngIf"],[1,"cost-container"],["gdColumns","50% 50%",1,"cost-heading","cost-border"],[1,"cost-title"],[1,"cost-add-new",3,"click"],["class","cost-data cost-border","gdColumns","70% 10% 20%",4,"ngFor","ngForOf"],["gdColumns","67% 10%",1,"cost-data","total-cost-container"],[1,"cost-total"],[3,"value"],[3,"matColumnDef"],["class","mx-ac-tableheader",4,"matHeaderCellDef"],[4,"matCellDef"],[4,"matFooterCellDef"],[1,"mx-ac-tableheader"],[4,"ngIf"],[1,"tbl-edit"],[1,"edit-icon",3,"click"],[1,"tbl-del"],[1,"delete-icon",3,"click"],[1,"mx-responsive-cell"],[1,"table-footer"],[1,"mx-no-data-found"],[1,"mat-search-item-icon"],[1,"mx-p-b-10"],["gdColumns","70% 10% 20%",1,"cost-data","cost-border"],["type","text","matInput","","name","costAmt",1,"cost-input",3,"value","blur"],[1,"cost-delete",3,"click"]],template:function(t,e){1&t&&(w.Ub(0,"div"),w.Ub(1,"div",0),w.Ub(2,"mat-form-field"),w.Ub(3,"mat-label"),w.uc(4,"Process"),w.Tb(),w.Ub(5,"mat-select",1),w.cc("selectionChange",function(t){return e.selectProcess(t)}),w.Ub(6,"mat-option",2),w.uc(7," Create new Process "),w.Tb(),w.tc(8,Y,2,2,"mat-option",3),w.Tb(),w.Tb(),w.Tb(),w.Ub(9,"div",4),w.Ub(10,"div",5),w.Ub(11,"div"),w.uc(12),w.Tb(),w.Ub(13,"div"),w.Ub(14,"div",6),w.Ub(15,"div"),w.uc(16,"Name: "),w.Tb(),w.Ub(17,"mat-form-field"),w.Ub(18,"input",7),w.cc("ngModelChange",function(t){return e.processName=t}),w.Tb(),w.Tb(),w.Tb(),w.Tb(),w.Ub(19,"div"),w.uc(20),w.Tb(),w.Ub(21,"div"),w.Ub(22,"div",6),w.Ub(23,"div"),w.uc(24,"Product of the Process"),w.Tb(),w.Ub(25,"mat-form-field"),w.Ub(26,"input",8),w.cc("ngModelChange",function(t){return e.productName=t}),w.Tb(),w.Tb(),w.Tb(),w.Tb(),w.Ub(27,"div",9),w.cc("click",function(){return e.addNewProduct()}),w.uc(28,"+ Add new Product"),w.Tb(),w.Tb(),w.Ub(29,"div",10),w.Ub(30,"mat-table",11),w.tc(31,X,4,1,"ng-container",12),w.tc(32,J,1,0,"mat-header-row",13),w.tc(33,Z,1,0,"mat-row",14),w.tc(34,B,1,2,"mat-footer-row",15),w.Tb(),w.Tb(),w.tc(35,Q,5,0,"div",16),w.Ub(36,"div",17),w.Ub(37,"div",18),w.Ub(38,"div",19),w.uc(39,"CONVERSION COST CALCULATION"),w.Tb(),w.Ub(40,"div",20),w.cc("click",function(){return e.addNewCost()}),w.uc(41,"+ Add new"),w.Tb(),w.Tb(),w.tc(42,tt,6,2,"div",21),w.Ub(43,"div",22),w.Ub(44,"div"),w.uc(45,"Total"),w.Tb(),w.Ub(46,"div",23),w.uc(47),w.Tb(),w.Tb(),w.Tb(),w.Tb(),w.Tb()),2&t&&(w.Db(8),w.jc("ngForOf",e.processList),w.Db(4),w.wc("Process Number ",e.processNumber,""),w.Db(6),w.jc("ngModel",e.processName),w.Db(2),w.wc(" Total Cost: $",e.headerTotalCost," "),w.Db(6),w.jc("ngModel",e.productName),w.Db(4),w.jc("dataSource",e.dataSource),w.Db(1),w.jc("ngForOf",e.headers),w.Db(1),w.jc("matHeaderRowDef",e.displayedColumns),w.Db(1),w.jc("matRowDefColumns",e.displayedColumns),w.Db(1),w.jc("matFooterRowDef",e.displayedColumns),w.Db(1),w.jc("ngIf",!e.tableData||0===(null==e.tableData?null:e.tableData.length)),w.Db(7),w.jc("ngForOf",e.conversionCost),w.Db(5),w.wc("",e.totalCostAmount,"$"))},directives:[M.b,M.a,P.b,P.e,D.a,j.e,s.i,F.a,k.b,k.k,k.n,I.n,I.k,I.m,I.g,s.j,I.c,I.i,I.b,I.e,I.h,I.a,E.a,I.d,I.j,I.l,I.f],styles:[".process-selection[_ngcontent-%COMP%]{margin-left:auto;margin-bottom:25px;color:#4e5358;font-size:14px}.process-table[_ngcontent-%COMP%]{border:1px solid #0000001f}.table-header[_ngcontent-%COMP%]{gap:20px;padding-left:21px;color:#000000de;border-bottom:1px solid #0000001f}.input-gap[_ngcontent-%COMP%]{gap:20px}.add-new-product[_ngcontent-%COMP%]{font-size:12px;color:#1ca4d4;font-weight:500;margin-left:auto;padding-right:15px;cursor:pointer}mat-header-row[_ngcontent-%COMP%]{background:#e7f3f8;font-weight:700}.edit-icon[_ngcontent-%COMP%]{margin-right:10px;color:#1565c0;cursor:pointer}.delete-icon[_ngcontent-%COMP%]{color:#f44336;cursor:pointer}.tbl-edit[_ngcontent-%COMP%]{padding-left:85px}.tbl-del[_ngcontent-%COMP%]{padding-left:12px}.table-footer[_ngcontent-%COMP%]{font-weight:500;background:#e7f3f8}.mx-no-data-found[_ngcontent-%COMP%]{text-align:center;padding:20px 0}.mx-no-data-found[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{display:block;margin:0 auto}.cost-title[_ngcontent-%COMP%]{margin-left:25px}.cost-add-new[_ngcontent-%COMP%]{justify-self:end;margin-right:60px;cursor:pointer}.cost-data[_ngcontent-%COMP%]{padding-left:45px;align-items:center}.cost-delete[_ngcontent-%COMP%]{cursor:pointer;justify-self:end;margin-right:30px;color:#f44336}.cost-total[_ngcontent-%COMP%]{justify-self:center}.cost-container[_ngcontent-%COMP%]{background:#dcecf4}.cost-heading[_ngcontent-%COMP%]{font-weight:500}.cost-border[_ngcontent-%COMP%]{border-bottom:1px solid #0000001f;padding-top:8px;padding-bottom:8px}.total-cost-container[_ngcontent-%COMP%]{background:#80c4dc;color:#fff;font-weight:500;padding:10px 0 10px 45px}.cost-input[_ngcontent-%COMP%]{border-bottom:1px solid;width:55px;text-align:center}"]}),t})();var ot=o("bSwM");function st(t,e){if(1&t&&(w.Ub(0,"mat-option",12),w.uc(1),w.Tb()),2&t){const t=e.$implicit;w.jc("value",null==t?null:t.id),w.Db(1),w.wc(" ",null==t?null:t.description," ")}}function it(t,e){if(1&t&&(w.Ub(0,"mat-option",12),w.uc(1),w.Tb()),2&t){const t=e.$implicit;w.jc("value",null==t?null:t.id),w.Db(1),w.wc(" ",null==t?null:t.description," ")}}function at(t,e){if(1&t&&(w.Ub(0,"mat-checkbox",15),w.uc(1),w.Tb()),2&t){const t=e.$implicit;w.jc("checked",!0===(null==t?null:t.required)||null)("disabled",!0===(null==t?null:t.required)||null),w.Db(1),w.wc(" ",null==t?null:t.description," ")}}function ct(t,e){if(1&t&&(w.Ub(0,"div",13),w.tc(1,at,2,3,"mat-checkbox",14),w.Tb()),2&t){const t=w.gc();w.Db(1),w.jc("ngForOf",t.selectedAttribute)}}let nt=(()=>{class t{constructor(t,e,o){this._fb=t,this._dialog=e,this._store=o,this.headers=N,this.selectedAttribute=[],this.isAttributeDataLoading=!1,this.unSubscribeAll=new _.a}ngOnInit(){this._store.select(n).pipe(Object(C.a)(this.unSubscribeAll.asObservable()),Object(O.a)(t=>!!t)).subscribe(t=>{this.attributeGroup=null==t?void 0:t.results}),this._store.select(p).pipe(Object(C.a)(this.unSubscribeAll.asObservable()),Object(O.a)(t=>!!t)).subscribe(t=>{this.productTypeValues=null==t?void 0:t.results}),this._store.select(l).pipe(Object(C.a)(this.unSubscribeAll.asObservable()),Object(O.a)(t=>!!t)).subscribe(t=>{this.attributeList=null==t?void 0:t.results}),this._store.select(b).pipe(Object(C.a)(this.unSubscribeAll.asObservable()),Object(O.a)(t=>!!t)).subscribe(t=>{this.newAttributes=null==t?void 0:t.results}),this._store.select(h).pipe(Object(C.a)(this.unSubscribeAll.asObservable()),Object(O.a)(t=>!!t)).subscribe(t=>{this.processList=null==t?void 0:t.results}),this._store.select(g).pipe(Object(C.a)(this.unSubscribeAll.asObservable()),Object(O.a)(t=>!!t)).subscribe(t=>{this.conversionCostData=null==t?void 0:t.results}),this.productTemplateGroup=this._fb.group({description:[""],product:[""]})}selectProductType(t){console.log("selectedId",t)}selectAttribute(t){var e;const o=t.value;this.selectedAttribute=[];const s=this.attributeGroup.find(t=>t.id===parseFloat(o));this.selectedAttributeName=null==s?void 0:s.description,null===(e=null==s?void 0:s.attributesGroupAttributes)||void 0===e||e.forEach(t=>{var e,o;this.selectedAttribute.push({id:null===(e=null==t?void 0:t.attribute)||void 0===e?void 0:e.id,description:null===(o=null==t?void 0:t.attribute)||void 0===o?void 0:o.description,required:null==t?void 0:t.required})})}addNewAttribute(){this._dialog.open(A,{data:this.newAttributes,width:"250px",height:"200px"}).afterClosed().subscribe(t=>{t&&this.selectedAttribute.push({id:null==t?void 0:t.id,description:null==t?void 0:t.description,required:!1})})}ngOnDestroy(){this.unSubscribeAll.next(),this.unSubscribeAll.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(w.Ob(k.c),w.Ob(U.b),w.Ob(a.b))},t.\u0275cmp=w.Ib({type:t,selectors:[["app-product-template"]],decls:27,vars:6,consts:[[1,"product-template-container"],[1,"product-title"],["name","form",3,"formGroup"],["gdColumns.gt-sm","20% 20%","gdGap","3rem","gdRows",""],["type","text","matInput","","name","description","formControlName","description"],["formControlName","product",3,"selectionChange"],[3,"value",4,"ngFor","ngForOf"],[1,"add-new",3,"click"],["gdColumns","repeat(4, 10%)","gdGap","12px","class","attribute-values",4,"ngIf"],[3,"processList","headers"],["gdAlignRows","end",1,"save-button-container"],[1,"save-btn"],[3,"value"],["gdColumns","repeat(4, 10%)","gdGap","12px",1,"attribute-values"],["color","primary",3,"checked","disabled",4,"ngFor","ngForOf"],["color","primary",3,"checked","disabled"]],template:function(t,e){1&t&&(w.Ub(0,"div",0),w.Ub(1,"h4",1),w.uc(2,"Create a new Product Template"),w.Tb(),w.Ub(3,"form",2),w.Ub(4,"div",3),w.Ub(5,"mat-form-field"),w.Ub(6,"mat-label"),w.uc(7,"Description"),w.Tb(),w.Pb(8,"input",4),w.Tb(),w.Ub(9,"mat-form-field"),w.Ub(10,"mat-label"),w.uc(11,"Product Type"),w.Tb(),w.Ub(12,"mat-select",5),w.cc("selectionChange",function(t){return e.selectProductType(t)}),w.tc(13,st,2,2,"mat-option",6),w.Tb(),w.Tb(),w.Tb(),w.Ub(14,"div",3),w.Ub(15,"mat-form-field"),w.Ub(16,"mat-label"),w.uc(17,"Attributes"),w.Tb(),w.Ub(18,"mat-select",5),w.cc("selectionChange",function(t){return e.selectAttribute(t)}),w.tc(19,it,2,2,"mat-option",6),w.Tb(),w.Tb(),w.Ub(20,"div",7),w.cc("click",function(){return e.addNewAttribute()}),w.uc(21,"+ Add New"),w.Tb(),w.Tb(),w.tc(22,ct,2,1,"div",8),w.Tb(),w.Pb(23,"process-table",9),w.Ub(24,"div",10),w.Ub(25,"div",11),w.uc(26,"Save"),w.Tb(),w.Tb(),w.Tb()),2&t&&(w.Db(3),w.jc("formGroup",e.productTemplateGroup),w.Db(10),w.jc("ngForOf",e.productTypeValues),w.Db(6),w.jc("ngForOf",e.attributeGroup),w.Db(3),w.jc("ngIf",null==e.selectedAttribute?null:e.selectedAttribute.length),w.Db(1),w.jc("processList",e.processList)("headers",e.headers))},directives:[k.p,k.l,k.f,M.b,M.c,M.e,P.b,P.e,F.a,k.b,k.k,k.e,D.a,s.i,s.j,et,M.a,j.e,ot.a],styles:[".product-template-container[_ngcontent-%COMP%]{background:#fff;padding:60px;border-radius:10px;border:1px solid #00000017}.product-title[_ngcontent-%COMP%]{font-size:19px;font-weight:500;word-spacing:2px}.input-label[_ngcontent-%COMP%]{color:#4e5358;font-size:14px}.product-desc[_ngcontent-%COMP%]{gap:57px;margin-bottom:20px}.add-new[_ngcontent-%COMP%]{align-self:center;cursor:pointer}.add-new[_ngcontent-%COMP%], .attribute-values[_ngcontent-%COMP%]{color:#837c7c;font-size:13px}.save-button-container[_ngcontent-%COMP%]{margin-top:50px}.save-btn[_ngcontent-%COMP%]{background:#31acd4;color:#fff;padding:18px 60px;border-radius:35px;font-weight:600;font-family:sans-serif;font-size:16px}"]}),t})();var rt=o("vkgz"),lt=o("SxV6"),dt=o("nYR2");let bt=(()=>{class t{constructor(t){this._store=t,this.loading=!1}resolve(){return this._store.select(r).pipe(Object(rt.a)(t=>{this.loading||t||(this._store.dispatch(S.a.loadAttributeGroup()),this.loading=!0)}),Object(O.a)(t=>t),Object(lt.a)(),Object(dt.a)(()=>{this.loading=!1,this._store.dispatch(S.a.resetAttributeGroup())}))}}return t.\u0275fac=function(e){return new(e||t)(w.Yb(a.b))},t.\u0275prov=w.Kb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),ut=(()=>{class t{constructor(t){this._store=t,this.loading=!1}resolve(){return this._store.select(d).pipe(Object(rt.a)(t=>{this.loading||t||(this._store.dispatch(S.a.loadAttributeList()),this.loading=!0)}),Object(O.a)(t=>t),Object(lt.a)(),Object(dt.a)(()=>{this.loading=!1,this._store.dispatch(S.a.resetAttributeList())}))}}return t.\u0275fac=function(e){return new(e||t)(w.Yb(a.b))},t.\u0275prov=w.Kb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),pt=(()=>{class t{constructor(t){this._store=t,this.loading=!1}resolve(){return this._store.select(u).pipe(Object(rt.a)(t=>{this.loading||t||(this._store.dispatch(S.a.loadAttributes()),this.loading=!0)}),Object(O.a)(t=>t),Object(lt.a)(),Object(dt.a)(()=>{this.loading=!1,this._store.dispatch(S.a.resetAttributes())}))}}return t.\u0275fac=function(e){return new(e||t)(w.Yb(a.b))},t.\u0275prov=w.Kb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),mt=(()=>{class t{constructor(t){this._store=t,this.loading=!1}resolve(){return this._store.select(v).pipe(Object(rt.a)(t=>{this.loading||t||(this._store.dispatch(S.a.loadConversionCost()),this.loading=!0)}),Object(O.a)(t=>t),Object(lt.a)(),Object(dt.a)(()=>{this.loading=!1,this._store.dispatch(S.a.resetConversionCost())}))}}return t.\u0275fac=function(e){return new(e||t)(w.Yb(a.b))},t.\u0275prov=w.Kb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),ht=(()=>{class t{constructor(t){this._store=t,this.loading=!1}resolve(){return this._store.select(f).pipe(Object(rt.a)(t=>{this.loading||t||(this._store.dispatch(S.a.loadProcessList()),this.loading=!0)}),Object(O.a)(t=>t),Object(lt.a)(),Object(dt.a)(()=>{this.loading=!1,this._store.dispatch(S.a.resetProcessList())}))}}return t.\u0275fac=function(e){return new(e||t)(w.Yb(a.b))},t.\u0275prov=w.Kb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const ft=[{path:"",redirectTo:"product-template"},{path:"product-template",component:nt,resolve:{attributeGroups:bt,productType:(()=>{class t{constructor(t){this._store=t,this.loading=!1}resolve(){return this._store.select(m).pipe(Object(rt.a)(t=>{this.loading||t||(this._store.dispatch(S.a.loadProductType()),this.loading=!0)}),Object(O.a)(t=>t),Object(lt.a)(),Object(dt.a)(()=>{this.loading=!1,this._store.dispatch(S.a.resetProductType())}))}}return t.\u0275fac=function(e){return new(e||t)(w.Yb(a.b))},t.\u0275prov=w.Kb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),attributeList:ut,attributes:pt,processList:ht,conversionCost:mt}}];let gt=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=w.Mb({type:t}),t.\u0275inj=w.Lb({imports:[[i.a.forChild(ft)],i.a]}),t})();var vt=o("PCNd");let Tt=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=w.Mb({type:t}),t.\u0275inj=w.Lb({imports:[[s.b,gt,k.o,vt.a]]}),t})()}}]);